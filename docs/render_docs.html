<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quark Engine - Render Sistemi Dok√ºmantasyonu</title>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-purple: #bc8cff;
            --accent-green: #3fb950;
            --accent-orange: #f0883e;
            --accent-red: #f85149;
            --border-color: #30363d;
            --code-bg: #0d1117;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            font-size: 16px;
        }

        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 300px;
            height: 100vh;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            padding: 24px;
            z-index: 100;
        }

        .sidebar h1 {
            font-size: 1.4rem;
            color: var(--accent-blue);
            margin-bottom: 8px;
        }

        .sidebar .subtitle {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-section-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-secondary);
            margin-bottom: 12px;
            font-weight: 600;
        }

        .nav-link {
            display: block;
            color: var(--text-primary);
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            margin-bottom: 2px;
        }

        .nav-link:hover {
            background: var(--bg-tertiary);
            color: var(--accent-blue);
        }

        .nav-link.active {
            background: rgba(88, 166, 255, 0.15);
            color: var(--accent-blue);
            border-left: 3px solid var(--accent-blue);
        }

        .main-content {
            margin-left: 300px;
            padding: 48px 64px;
            max-width: 1000px;
        }

        .section {
            margin-bottom: 80px;
        }

        h2 {
            font-size: 2rem;
            color: var(--text-primary);
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        h2 .section-number {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            color: white;
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        h3 {
            font-size: 1.4rem;
            color: var(--accent-blue);
            margin-top: 40px;
            margin-bottom: 16px;
        }

        h4 {
            font-size: 1.1rem;
            color: var(--accent-purple);
            margin-top: 28px;
            margin-bottom: 12px;
        }

        p {
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        pre {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: 'Consolas', 'Monaco', monospace;
            background: var(--bg-tertiary);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
            color: var(--accent-orange);
        }

        pre code {
            background: none;
            padding: 0;
            color: var(--text-primary);
        }

        .keyword {
            color: var(--accent-purple);
        }

        .type {
            color: var(--accent-blue);
        }

        .string {
            color: var(--accent-green);
        }

        .number {
            color: var(--accent-orange);
        }

        .comment {
            color: var(--text-secondary);
            font-style: italic;
        }

        .info-box {
            background: var(--bg-tertiary);
            border-left: 4px solid var(--accent-blue);
            padding: 16px 20px;
            border-radius: 0 8px 8px 0;
            margin: 24px 0;
        }

        .info-box.warning {
            border-left-color: var(--accent-orange);
        }

        .info-box.success {
            border-left-color: var(--accent-green);
        }

        .info-box-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 24px 0;
            background: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
        }

        th,
        td {
            padding: 14px 18px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        td {
            color: var(--text-secondary);
        }

        tr:last-child td {
            border-bottom: none;
        }

        .diagram-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 32px;
            margin: 24px 0;
            text-align: center;
        }

        .diagram-title {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-top: 16px;
            font-style: italic;
        }

        .formula {
            background: linear-gradient(135deg, rgba(88, 166, 255, 0.1), rgba(188, 140, 255, 0.1));
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px 24px;
            margin: 20px 0;
            font-family: 'Times New Roman', serif;
            font-size: 1.1rem;
            text-align: center;
            color: var(--text-primary);
        }

        .formula-label {
            color: var(--accent-purple);
            font-size: 0.85rem;
            margin-bottom: 8px;
            font-family: 'Segoe UI', sans-serif;
        }

        ul,
        ol {
            margin: 16px 0;
            padding-left: 24px;
            color: var(--text-secondary);
        }

        li {
            margin-bottom: 8px;
        }

        li strong {
            color: var(--text-primary);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 24px 0;
        }

        .feature-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: var(--accent-blue);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .feature-card-icon {
            font-size: 2rem;
            margin-bottom: 12px;
        }

        .feature-card h4 {
            color: var(--text-primary);
            margin: 0 0 8px 0;
        }

        .feature-card p {
            font-size: 0.9rem;
            margin: 0;
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .main-content {
                margin-left: 0;
            }
        }
    </style>
</head>

<body>
    <nav class="sidebar">
        <h1>Quark Engine</h1>
        <p class="subtitle">Render Sistemi Dok√ºmantasyonu v1.0</p>
        <div class="nav-section">
            <div class="nav-section-title">Genel</div>
            <a href="#introduction" class="nav-link active">1. Giri≈ü ve Genel Bakƒ±≈ü</a>
            <a href="#architecture" class="nav-link">2. Mimari ve Sƒ±nƒ±f Hiyerar≈üisi</a>
            <a href="#pipeline" class="nav-link">3. Rendering Pipeline</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Matematik</div>
            <a href="#mathematics" class="nav-link">4. Matematiksel Temeller</a>
            <a href="#camera" class="nav-link">5. Kamera Sistemi</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Sistemler</div>
            <a href="#materials" class="nav-link">6. Material Sistemi</a>
            <a href="#lighting" class="nav-link">7. Aydƒ±nlatma Sistemi</a>
            <a href="#pbr" class="nav-link">8. PBR ve Shader Matematiƒüi</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Optimizasyon</div>
            <a href="#instancing" class="nav-link">9. Instancing ve Batching</a>
            <a href="#resources" class="nav-link">10. GPU Kaynak Y√∂netimi</a>
        </div>
    </nav>

    <main class="main-content">
        <!-- SECTION 1: INTRODUCTION -->
        <section id="introduction" class="section">
            <h2><span class="section-number">01</span> Giri≈ü ve Genel Bakƒ±≈ü</h2>

            <p>Quark Engine Render Sistemi, modern oyun ve ger√ßek zamanlƒ± grafik uygulamalarƒ± i√ßin tasarlanmƒ±≈ü y√ºksek
                performanslƒ± bir render motorudur. Bu dok√ºmantasyon, sistemin mimarisini, √ßalƒ±≈üma prensiplerini ve
                matematiksel temellerini akademik d√ºzeyde detaylandƒ±rmaktadƒ±r.</p>

            <h3>1.1 Tasarƒ±m Felsefesi</h3>

            <p>Render sistemi, <strong>Separation of Concerns</strong> (Sorumluluk Ayrƒ±mƒ±) prensibi √ºzerine in≈üa
                edilmi≈ütir. Bu yakla≈üƒ±m, sistemin √º√ß ana katmana ayrƒ±lmasƒ±nƒ± saƒülar:</p>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-card-icon">üéØ</div>
                    <h4>RenderSystem (Orkestrat√∂r)</h4>
                    <p>Sahne y√∂netimi, culling, sorting ve batching i≈ülemlerini ger√ßekle≈ütirir. GPU hakkƒ±nda hi√ßbir
                        bilgiye sahip deƒüildir.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-card-icon">üîå</div>
                    <h4>RHI (Donanƒ±m Soyutlamasƒ±)</h4>
                    <p>Backend-agnostik bir aray√ºz saƒülar. D3D11, Vulkan, Metal gibi farklƒ± API'lere ge√ßi≈ü imkanƒ± sunar.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-card-icon">‚ö°</div>
                    <h4>RSD3D11 (Backend)</h4>
                    <p>DirectX 11 implementasyonu. GPU komutlarƒ±nƒ± execute eder, sahne hakkƒ±nda hi√ßbir ≈üey bilmez.</p>
                </div>
            </div>

            <h3>1.2 Ana √ñzellikler</h3>

            <table>
                <thead>
                    <tr>
                        <th>√ñzellik</th>
                        <th>A√ßƒ±klama</th>
                        <th>Teknoloji</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Physically Based Rendering</strong></td>
                        <td>Cook-Torrance BRDF modeli ile ger√ßek√ßi malzeme renderƒ±</td>
                        <td>GGX, Schlick-Fresnel</td>
                    </tr>
                    <tr>
                        <td><strong>Frustum Culling</strong></td>
                        <td>G√∂r√ºnmeyen objelerin erken elenmesi</td>
                        <td>AABB, Sphere testleri</td>
                    </tr>
                    <tr>
                        <td><strong>Instanced Rendering</strong></td>
                        <td>Aynƒ± mesh/material kombinasyonlarƒ±nƒ±n batch olarak √ßizimi</td>
                        <td>GPU Instancing</td>
                    </tr>
                    <tr>
                        <td><strong>Multi-Light Support</strong></td>
                        <td>64 adede kadar e≈üzamanlƒ± ƒ±≈üƒ±k desteƒüi</td>
                        <td>Structured Buffer</td>
                    </tr>
                    <tr>
                        <td><strong>Normal Mapping</strong></td>
                        <td>Tangent-space normal map desteƒüi</td>
                        <td>TBN Matrix</td>
                    </tr>
                    <tr>
                        <td><strong>HDR Pipeline</strong></td>
                        <td>ACES tone mapping ve gamma correction</td>
                        <td>Linear HDR</td>
                    </tr>
                </tbody>
            </table>

            <h3>1.3 Data-Driven Rendering</h3>

            <p>Sistem, <strong>FramePacket</strong> kavramƒ± etrafƒ±nda organize edilmi≈ütir. Her frame i√ßin RenderSystem,
                t√ºm gerekli verileri bir paket halinde hazƒ±rlar ve RHI'ya g√∂nderir:</p>

            <ul>
                <li><strong>Paralelle≈ütirme:</strong> CPU ve GPU arasƒ±nda net ayrƒ±m</li>
                <li><strong>Debugging:</strong> Frame packet tek kaynak olarak incelenebilir</li>
                <li><strong>Multi-threading:</strong> Packet hazƒ±rlama paralel yapƒ±labilir</li>
                <li><strong>Backend Deƒüi≈üimi:</strong> Farklƒ± RHI implementasyonlarƒ± aynƒ± packet'i i≈üleyebilir</li>
            </ul>

            <div class="info-box">
                <div class="info-box-title">üìò √ñnemli Kavram: Handle Sistemi</div>
                <p>Render sistemi, kaynaklarƒ± (mesh, material, texture) <code>UINT32</code> handle'lar ile y√∂netir.
                    Her kaynak iki handle'a sahiptir: <strong>Local Handle</strong> (RenderSystem i√ßinde) ve <strong>GPU
                        Handle</strong> (RHI i√ßinde).</p>
            </div>

            <h3>1.4 Koordinat Sistemi</h3>

            <p>Quark Engine, <strong>Right-Handed</strong> koordinat sistemi kullanƒ±r:</p>

            <div class="diagram-container">
                <svg width="300" height="200" viewBox="0 0 300 200">
                    <circle cx="150" cy="120" r="5" fill="#8b949e" />
                    <line x1="150" y1="120" x2="250" y2="120" stroke="#f85149" stroke-width="3" />
                    <polygon points="250,115 260,120 250,125" fill="#f85149" />
                    <text x="265" y="125" fill="#f85149" font-size="16" font-weight="bold">+X</text>
                    <line x1="150" y1="120" x2="150" y2="30" stroke="#3fb950" stroke-width="3" />
                    <polygon points="145,30 150,20 155,30" fill="#3fb950" />
                    <text x="155" y="25" fill="#3fb950" font-size="16" font-weight="bold">+Y (Up)</text>
                    <line x1="150" y1="120" x2="90" y2="170" stroke="#58a6ff" stroke-width="3" />
                    <polygon points="85,165 80,177 95,172" fill="#58a6ff" />
                    <text x="55" y="185" fill="#58a6ff" font-size="16" font-weight="bold">+Z (Forward)</text>
                </svg>
                <p class="diagram-title">≈ûekil 1.1: Right-Handed Koordinat Sistemi</p>
            </div>

            <div class="info-box warning">
                <div class="info-box-title">‚ö†Ô∏è DirectX Uyumluluƒüu</div>
                <p>DirectX 11, left-handed koordinat sistemi kullanƒ±r. <code>RSD3D11</code> backend'i, matrisleri GPU'ya
                    g√∂nderirken gerekli d√∂n√º≈ü√ºmleri otomatik olarak uygular.</p>
            </div>
        </section>

        <!-- SECTION 2: ARCHITECTURE -->
        <section id="architecture" class="section">
            <h2><span class="section-number">02</span> Mimari ve Sƒ±nƒ±f Hiyerar≈üisi</h2>

            <p>Render sistemi, katmanlƒ± bir mimari √ºzerine in≈üa edilmi≈ütir. Her katman belirli sorumluluklarƒ± √ºstlenir
                ve yalnƒ±zca kendi altƒ±ndaki katmanla ileti≈üim kurar.</p>

            <h3>2.1 Katmanlƒ± Mimari</h3>

            <div class="diagram-container">
                <svg width="700" height="400" viewBox="0 0 700 400">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#58a6ff" />
                        </marker>
                    </defs>

                    <rect x="50" y="20" width="600" height="60" rx="8" fill="rgba(88, 166, 255, 0.1)" stroke="#3fb950"
                        stroke-width="2" />
                    <text x="350" y="45" fill="#e6edf3" font-size="14" text-anchor="middle"
                        font-weight="bold">Application / Game Layer</text>
                    <text x="350" y="65" fill="#8b949e" font-size="12" text-anchor="middle">submit(), createMesh(),
                        createMaterial(), setActiveCamera()</text>

                    <line x1="350" y1="85" x2="350" y2="115" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrowhead)" />

                    <rect x="100" y="120" width="500" height="60" rx="8" fill="rgba(88, 166, 255, 0.15)"
                        stroke="#58a6ff" stroke-width="2" />
                    <text x="350" y="145" fill="#58a6ff" font-size="14" text-anchor="middle"
                        font-weight="bold">RenderSystemAPI (Interface)</text>
                    <text x="350" y="165" fill="#8b949e" font-size="11" text-anchor="middle">Virtual interface -
                        platform agnostic API</text>

                    <line x1="350" y1="185" x2="350" y2="215" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrowhead)" />

                    <rect x="100" y="220" width="500" height="70" rx="8" fill="rgba(188, 140, 255, 0.15)"
                        stroke="#bc8cff" stroke-width="2" />
                    <text x="350" y="245" fill="#bc8cff" font-size="14" text-anchor="middle"
                        font-weight="bold">RenderSystem (Orchestrator)</text>
                    <text x="350" y="265" fill="#8b949e" font-size="11" text-anchor="middle">Culling - Sorting -
                        Batching - FramePacket Builder</text>
                    <text x="350" y="280" fill="#8b949e" font-size="10" text-anchor="middle" font-style="italic">GPU
                        hakkinda hicbir sey bilmez!</text>

                    <line x1="350" y1="295" x2="350" y2="325" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrowhead)" />
                    <text x="380" y="315" fill="#f0883e" font-size="10">FramePacket</text>

                    <rect x="150" y="330" width="180" height="50" rx="8" fill="rgba(240, 136, 62, 0.15)"
                        stroke="#f0883e" stroke-width="2" />
                    <text x="240" y="355" fill="#f0883e" font-size="13" text-anchor="middle" font-weight="bold">RHI
                        (Abstract)</text>
                    <text x="240" y="372" fill="#8b949e" font-size="10" text-anchor="middle">Hardware Interface</text>

                    <rect x="370" y="330" width="180" height="50" rx="8" fill="rgba(63, 185, 80, 0.15)" stroke="#3fb950"
                        stroke-width="2" />
                    <text x="460" y="355" fill="#3fb950" font-size="13" text-anchor="middle"
                        font-weight="bold">RSD3D11</text>
                    <text x="460" y="372" fill="#8b949e" font-size="10" text-anchor="middle">DirectX 11 Backend</text>

                    <line x1="370" y1="355" x2="335" y2="355" stroke="#8b949e" stroke-width="2"
                        stroke-dasharray="5,3" />
                </svg>
                <p class="diagram-title">≈ûekil 2.1: Render Sistemi Katmanlƒ± Mimarisi</p>
            </div>

            <h3>2.2 Sƒ±nƒ±f Sorumluluklarƒ±</h3>

            <table>
                <thead>
                    <tr>
                        <th>Sƒ±nƒ±f</th>
                        <th>Sorumluluk</th>
                        <th>Bildiƒüi ≈ûeyler</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>RenderSystemAPI</strong></td>
                        <td>Public interface - DLL boundary i√ßin sanal fonksiyonlar</td>
                        <td>Yalnƒ±zca fonksiyon imzalarƒ±</td>
                    </tr>
                    <tr>
                        <td><strong>RenderSystem</strong></td>
                        <td>Sahne y√∂netimi, culling, sorting, batching, packet olu≈üturma</td>
                        <td>T√ºm submitted objeler, mesh/material verileri, kamera</td>
                    </tr>
                    <tr>
                        <td><strong>RHI</strong></td>
                        <td>Donanƒ±m soyutlamasƒ± - backend'lerin implemente edeceƒüi interface</td>
                        <td>GPU buffer handle'larƒ±, FramePacket format'ƒ±</td>
                    </tr>
                    <tr>
                        <td><strong>RSD3D11</strong></td>
                        <td>DirectX 11 GPU komutlarƒ±nƒ± execute etme</td>
                        <td>D3D11 Device, Context, Buffer'lar, Shader'lar</td>
                    </tr>
                    <tr>
                        <td><strong>FramePacket</strong></td>
                        <td>Bir frame i√ßin gereken t√ºm render verisini ta≈üƒ±ma</td>
                        <td>Draw commands, instances, materials, lights</td>
                    </tr>
                    <tr>
                        <td><strong>Camera</strong></td>
                        <td>View/Projection matrisleri, frustum culling</td>
                        <td>Position, rotation, projection parametreleri</td>
                    </tr>
                </tbody>
            </table>

            <h3>2.3 Handle Sistemi Detaylarƒ±</h3>

            <p>Kaynak y√∂netimi, iki seviyeli handle sistemi ile ger√ßekle≈ütirilir:</p>

            <div class="diagram-container">
                <svg width="650" height="150" viewBox="0 0 650 150">
                    <rect x="20" y="20" width="180" height="110" rx="8" fill="rgba(88, 166, 255, 0.1)" stroke="#58a6ff"
                        stroke-width="2" />
                    <text x="110" y="45" fill="#58a6ff" font-size="12" text-anchor="middle"
                        font-weight="bold">Application</text>
                    <text x="30" y="70" fill="#8b949e" font-size="11">hMesh cubeMesh = 1</text>
                    <text x="30" y="90" fill="#8b949e" font-size="11">hMaterial redMat = 1</text>
                    <text x="30" y="110" fill="#8b949e" font-size="10" font-style="italic">Local handles</text>

                    <rect x="240" y="20" width="160" height="110" rx="8" fill="rgba(188, 140, 255, 0.1)"
                        stroke="#bc8cff" stroke-width="2" />
                    <text x="320" y="45" fill="#bc8cff" font-size="12" text-anchor="middle"
                        font-weight="bold">RenderSystem</text>
                    <text x="250" y="70" fill="#8b949e" font-size="10">Local ‚Üí GPU</text>
                    <text x="250" y="90" fill="#8b949e" font-size="10">1 ‚Üí GPU:101</text>
                    <text x="250" y="110" fill="#8b949e" font-size="10">2 ‚Üí GPU:102</text>

                    <rect x="440" y="20" width="180" height="110" rx="8" fill="rgba(63, 185, 80, 0.1)" stroke="#3fb950"
                        stroke-width="2" />
                    <text x="530" y="45" fill="#3fb950" font-size="12" text-anchor="middle" font-weight="bold">RHI
                        (GPU)</text>
                    <text x="450" y="70" fill="#8b949e" font-size="11">GPU:101 ‚Üí VB + IB</text>
                    <text x="450" y="90" fill="#f0883e" font-size="10">ID3D11Buffer*</text>
                    <text x="450" y="110" fill="#8b949e" font-size="10" font-style="italic">Real GPU resources</text>

                    <line x1="200" y1="75" x2="235" y2="75" stroke="#58a6ff" stroke-width="2" />
                    <line x1="400" y1="75" x2="435" y2="75" stroke="#bc8cff" stroke-width="2" />
                </svg>
                <p class="diagram-title">≈ûekil 2.2: ƒ∞ki Seviyeli Handle Mapping</p>
            </div>

            <div class="info-box success">
                <div class="info-box-title">‚úì Bu Tasarƒ±mƒ±n Avantajlarƒ±</div>
                <ul>
                    <li><strong>G√ºvenlik:</strong> Uygulama asla ham GPU pointer'larƒ±na eri≈üemez</li>
                    <li><strong>Esneklik:</strong> GPU kaynaklarƒ± yeniden olu≈üturulabilir (resize durumunda)</li>
                    <li><strong>Debug:</strong> Handle deƒüerleri takip edilebilir ve validate edilebilir</li>
                </ul>
            </div>

            <h3>2.4 Veri Yapƒ±larƒ±</h3>

            <h4>MeshResource</h4>
            <pre><code><span class="keyword">struct</span> <span class="type">MeshResource</span> {
    <span class="type">MeshData</span> data;              <span class="comment">// CPU-side mesh data</span>
    <span class="type">hMesh</span> gpuHandle;            <span class="comment">// GPU buffer handle</span>
    <span class="type">bool</span> isDynamic;
    <span class="type">Quark::AABB</span> localBounds;    <span class="comment">// Local space bounding box</span>
    <span class="type">Quark::Sphere</span> localSphere;  <span class="comment">// Local space bounding sphere</span>
};</code></pre>

            <h4>MaterialResource</h4>
            <pre><code><span class="keyword">struct</span> <span class="type">MaterialResource</span> {
    <span class="type">MaterialData</span> data;          <span class="comment">// CPU-side material data</span>
    <span class="type">hMaterial</span> gpuHandle;        <span class="comment">// GPU buffer handle</span>
};</code></pre>

            <h4>SubmittedObject</h4>
            <pre><code><span class="keyword">struct</span> <span class="type">SubmittedObject</span> {
    <span class="type">hMesh</span> mesh;
    <span class="type">hMaterial</span> material;
    <span class="type">Quark::Mat4</span> worldMatrix;
    <span class="type">Quark::AABB</span> worldBounds;
    <span class="type">Quark::Sphere</span> worldSphere;
    <span class="type">float</span> sortDistance;         <span class="comment">// Camera'dan uzaklƒ±k (sorting i√ßin)</span>
    <span class="type">UINT32</span> sortKey;             <span class="comment">// Material-based sort key</span>
};</code></pre>
        </section>

        <!-- SECTION 3: PIPELINE - Devam edecek -->

        <!-- SECTION 3: RENDERING PIPELINE -->
        <section id="pipeline" class="section">
            <h2><span class="section-number">03</span> Rendering Pipeline</h2>

            <p>Her frame, be≈ü ana a≈üamadan ge√ßer. Bu data-driven yakla≈üƒ±m, CPU ve GPU arasƒ±nda net bir ayrƒ±m saƒülar.</p>

            <h3>3.1 Frame Lifecycle</h3>

            <div class="diagram-container">
                <svg width="750" height="150" viewBox="0 0 750 150">
                    <defs>
                        <marker id="arrow2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#58a6ff" />
                        </marker>
                    </defs>

                    <!-- Submit -->
                    <rect x="20" y="40" width="100" height="70" rx="8" fill="rgba(63, 185, 80, 0.2)" stroke="#3fb950"
                        stroke-width="2" />
                    <text x="70" y="70" fill="#3fb950" font-size="13" text-anchor="middle"
                        font-weight="bold">Submit</text>
                    <text x="70" y="90" fill="#8b949e" font-size="9" text-anchor="middle">Obje toplama</text>

                    <line x1="125" y1="75" x2="155" y2="75" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrow2)" />

                    <!-- Cull -->
                    <rect x="160" y="40" width="100" height="70" rx="8" fill="rgba(88, 166, 255, 0.2)" stroke="#58a6ff"
                        stroke-width="2" />
                    <text x="210" y="70" fill="#58a6ff" font-size="13" text-anchor="middle"
                        font-weight="bold">Cull</text>
                    <text x="210" y="90" fill="#8b949e" font-size="9" text-anchor="middle">Frustum test</text>

                    <line x1="265" y1="75" x2="295" y2="75" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrow2)" />

                    <!-- Sort -->
                    <rect x="300" y="40" width="100" height="70" rx="8" fill="rgba(188, 140, 255, 0.2)" stroke="#bc8cff"
                        stroke-width="2" />
                    <text x="350" y="70" fill="#bc8cff" font-size="13" text-anchor="middle"
                        font-weight="bold">Sort</text>
                    <text x="350" y="90" fill="#8b949e" font-size="9" text-anchor="middle">State/distance</text>

                    <line x1="405" y1="75" x2="435" y2="75" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrow2)" />

                    <!-- Batch -->
                    <rect x="440" y="40" width="100" height="70" rx="8" fill="rgba(240, 136, 62, 0.2)" stroke="#f0883e"
                        stroke-width="2" />
                    <text x="490" y="70" fill="#f0883e" font-size="13" text-anchor="middle"
                        font-weight="bold">Batch</text>
                    <text x="490" y="90" fill="#8b949e" font-size="9" text-anchor="middle">Instancing</text>

                    <line x1="545" y1="75" x2="575" y2="75" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrow2)" />

                    <!-- Execute -->
                    <rect x="580" y="40" width="100" height="70" rx="8" fill="rgba(248, 81, 73, 0.2)" stroke="#f85149"
                        stroke-width="2" />
                    <text x="630" y="70" fill="#f85149" font-size="13" text-anchor="middle"
                        font-weight="bold">Execute</text>
                    <text x="630" y="90" fill="#8b949e" font-size="9" text-anchor="middle">GPU draw</text>

                    <!-- Labels -->
                    <text x="280" y="25" fill="#8b949e" font-size="11" text-anchor="middle">CPU (RenderSystem)</text>
                    <text x="630" y="25" fill="#8b949e" font-size="11" text-anchor="middle">GPU (RHI)</text>
                    <line x1="560" y1="30" x2="560" y2="130" stroke="#30363d" stroke-width="1" stroke-dasharray="5,5" />
                </svg>
                <p class="diagram-title">≈ûekil 3.1: Frame Rendering Pipeline</p>
            </div>

            <h3>3.2 Frustum Culling</h3>

            <p>Kamera g√∂r√º≈ü alanƒ± dƒ±≈üƒ±ndaki objeler erken a≈üamada elenir:</p>

            <pre><code><span class="keyword">void</span> <span class="function">RenderSystem::frustumCull</span>() {
    m_VisibleObjects.clear();
    
    <span class="keyword">for</span> (<span class="keyword">auto</span>& obj : m_SubmittedObjects) {
        <span class="comment">// Frustum vs AABB test</span>
        <span class="keyword">if</span> (m_pActiveCamera-><span class="function">isVisible</span>(obj.worldBounds)) {
            <span class="comment">// Calculate distance for sorting</span>
            Quark::Vec3 objCenter = obj.worldBounds.<span class="function">Center</span>();
            obj.sortDistance = (objCenter - m_pActiveCamera->position).<span class="function">LengthSq</span>();
            
            m_VisibleObjects.<span class="function">push_back</span>(obj);
            m_Stats.objectsRendered++;
        } <span class="keyword">else</span> {
            m_Stats.objectsCulled++;
        }
    }
}</code></pre>

            <h3>3.3 Sorting Strategy</h3>

            <p>Objeler √º√ß √∂ncelik seviyesine g√∂re sƒ±ralanƒ±r:</p>

            <ol>
                <li><strong>Material:</strong> Aynƒ± material'a sahip objeler gruplanƒ±r (state change minimizasyonu)</li>
                <li><strong>Mesh:</strong> Aynƒ± mesh'e sahip objeler gruplanƒ±r (instancing i√ßin)</li>
                <li><strong>Distance:</strong> Opaque i√ßin front-to-back, transparent i√ßin back-to-front</li>
            </ol>

            <div class="formula">
                <div class="formula-label">Sort Key Hesaplama</div>
                sortKey = (materialHandle & 0xFFFF) << 16 | (distance √ó 10) & 0xFFFF </div>

                    <h3>3.4 Batching ve Instancing</h3>

                    <p>Aynƒ± mesh+material kombinasyonuna sahip objeler tek draw call'da √ßizilir:</p>

                    <div class="diagram-container">
                        <svg width="600" height="200" viewBox="0 0 600 200">
                            <!-- Before batching -->
                            <text x="150" y="25" fill="#8b949e" font-size="12" text-anchor="middle">Batching
                                √ñncesi</text>
                            <rect x="20" y="40" width="60" height="40" rx="4" fill="rgba(248, 81, 73, 0.2)"
                                stroke="#f85149" />
                            <text x="50" y="65" fill="#f85149" font-size="9" text-anchor="middle">Draw 1</text>
                            <rect x="90" y="40" width="60" height="40" rx="4" fill="rgba(248, 81, 73, 0.2)"
                                stroke="#f85149" />
                            <text x="120" y="65" fill="#f85149" font-size="9" text-anchor="middle">Draw 2</text>
                            <rect x="160" y="40" width="60" height="40" rx="4" fill="rgba(248, 81, 73, 0.2)"
                                stroke="#f85149" />
                            <text x="190" y="65" fill="#f85149" font-size="9" text-anchor="middle">Draw 3</text>
                            <rect x="230" y="40" width="60" height="40" rx="4" fill="rgba(248, 81, 73, 0.2)"
                                stroke="#f85149" />
                            <text x="260" y="65" fill="#f85149" font-size="9" text-anchor="middle">Draw 4</text>
                            <text x="150" y="100" fill="#8b949e" font-size="10" text-anchor="middle">4 ayrƒ± draw
                                call</text>

                            <!-- After batching -->
                            <text x="450" y="25" fill="#8b949e" font-size="12" text-anchor="middle">Batching
                                Sonrasƒ±</text>
                            <rect x="350" y="40" width="200" height="40" rx="4" fill="rgba(63, 185, 80, 0.2)"
                                stroke="#3fb950" />
                            <text x="450" y="65" fill="#3fb950" font-size="11"
                                text-anchor="middle">DrawInstanced(4)</text>
                            <text x="450" y="100" fill="#8b949e" font-size="10" text-anchor="middle">1 instanced draw
                                call</text>

                            <!-- Arrow -->
                            <line x1="300" y1="60" x2="340" y2="60" stroke="#58a6ff" stroke-width="2"
                                marker-end="url(#arrow2)" />

                            <!-- Stats -->
                            <rect x="20" y="130" width="270" height="50" rx="6" fill="rgba(248, 81, 73, 0.1)"
                                stroke="#f85149" />
                            <text x="155" y="155" fill="#f85149" font-size="10" text-anchor="middle">Draw Calls: 4 |
                                State Changes: 4</text>
                            <text x="155" y="172" fill="#8b949e" font-size="9" text-anchor="middle">CPU overhead
                                y√ºksek</text>

                            <rect x="320" y="130" width="260" height="50" rx="6" fill="rgba(63, 185, 80, 0.1)"
                                stroke="#3fb950" />
                            <text x="450" y="155" fill="#3fb950" font-size="10" text-anchor="middle">Draw Calls: 1 |
                                State Changes: 1</text>
                            <text x="450" y="172" fill="#8b949e" font-size="9" text-anchor="middle">GPU-efficient</text>
                        </svg>
                        <p class="diagram-title">≈ûekil 3.2: Draw Call Batching ile Performans Kazanƒ±mƒ±</p>
                    </div>

                    <h3>3.5 FramePacket Olu≈üturma</h3>

                    <p>T√ºm i≈ülemler tamamlandƒ±ktan sonra <code>FramePacket</code> olu≈üturulur:</p>

                    <pre><code><span class="type">FramePacket</span> <span class="function">RenderSystem::buildFramePacket</span>() {
    <span class="type">FrameConstants</span> constants = {};
    constants.view = m_pActiveCamera->view.<span class="function">Transposed</span>();
    constants.projection = m_pActiveCamera->projection.<span class="function">Transposed</span>();
    constants.viewProjection = m_pActiveCamera->viewProjection.<span class="function">Transposed</span>();
    constants.cameraPosition = m_pActiveCamera->position;
    constants.time = m_Time;
    constants.ambientLight = m_AmbientLight;
    
    m_PacketBuilder.<span class="function">setFrameConstants</span>(constants);
    m_PacketBuilder.<span class="function">setClearColor</span>(m_ClearColor[<span class="number">0</span>], ...);
    m_PacketBuilder.<span class="function">setViewport</span>(m_ViewportWidth, m_ViewportHeight);
    
    <span class="comment">// Add materials, lights...</span>
    <span class="keyword">return</span> m_PacketBuilder.<span class="function">build</span>();
}</code></pre>
        </section>

        <!-- SECTION 4: MATHEMATICS -->
        <section id="mathematics" class="section">
            <h2><span class="section-number">04</span> Matematiksel Temeller</h2>

            <p>Render sisteminin temelinde lineer cebir ve 3D grafik matematiƒüi yatar. Bu b√∂l√ºmde kullanƒ±lan ana
                form√ºller ve algoritmalar a√ßƒ±klanmaktadƒ±r.</p>

            <h3>4.1 D√∂n√º≈ü√ºm Matrisleri</h3>

            <p>Objeler √º√ß ana d√∂n√º≈ü√ºme tabi tutulur: <strong>Model</strong>, <strong>View</strong> ve
                <strong>Projection</strong>.
            </p>

            <div class="formula">
                <div class="formula-label">MVP D√∂n√º≈ü√ºm Zinciri</div>
                P<sub>clip</sub> = P<sub>local</sub> √ó M<sub>model</sub> √ó M<sub>view</sub> √ó M<sub>projection</sub>
            </div>

            <h4>Model Matrix (World Transform)</h4>
            <p>Lokal koordinatlarƒ± d√ºnya koordinatlarƒ±na d√∂n√º≈üt√ºr√ºr:</p>

            <div class="formula">
                M<sub>model</sub> = T √ó R √ó S
            </div>

            <pre><code><span class="comment">// Model matrix bile≈üenleri:</span>
<span class="type">Mat4</span> translation = <span class="type">Mat4</span>::<span class="function">Translation</span>(position);
<span class="type">Mat4</span> rotation = <span class="type">Mat4</span>::<span class="function">FromQuaternion</span>(orientation);
<span class="type">Mat4</span> scale = <span class="type">Mat4</span>::<span class="function">Scale</span>(scaleVec);
<span class="type">Mat4</span> model = translation * rotation * scale;</code></pre>

            <h4>View Matrix</h4>
            <p>D√ºnya koordinatlarƒ±nƒ± kamera-merkezli koordinatlara d√∂n√º≈üt√ºr√ºr:</p>

            <div class="formula">
                M<sub>view</sub> = [R | -R¬∑t]
            </div>

            <p>Burada R kamera rotasyon matrisi, t ise kamera pozisyonudur.</p>

            <h4>Projection Matrix (Perspective)</h4>

            <div class="formula">
                <div class="formula-label">Perspective Projection</div>
                <table style="margin: 0 auto; background: transparent; border: none;">
                    <tr>
                        <td style="border: none; padding: 4px;">P[0][0] = 1/(aspect¬∑tan(fov/2))</td>
                    </tr>
                    <tr>
                        <td style="border: none; padding: 4px;">P[1][1] = 1/tan(fov/2)</td>
                    </tr>
                    <tr>
                        <td style="border: none; padding: 4px;">P[2][2] = far/(far-near)</td>
                    </tr>
                    <tr>
                        <td style="border: none; padding: 4px;">P[3][2] = -(far¬∑near)/(far-near)</td>
                    </tr>
                </table>
            </div>

            <h3>4.2 Frustum Culling Matematiƒüi</h3>

            <p>View-Projection matrisinden 6 frustum d√ºzlemi √ßƒ±karƒ±lƒ±r:</p>

            <pre><code><span class="keyword">void</span> <span class="function">Frustum::extractFromViewProjection</span>(<span class="keyword">const</span> <span class="type">Mat4</span>& vp) {
    <span class="comment">// Left plane</span>
    planes[<span class="number">0</span>].normal.x = vp.m[<span class="number">3</span>] + vp.m[<span class="number">0</span>];
    planes[<span class="number">0</span>].normal.y = vp.m[<span class="number">7</span>] + vp.m[<span class="number">4</span>];
    planes[<span class="number">0</span>].normal.z = vp.m[<span class="number">11</span>] + vp.m[<span class="number">8</span>];
    planes[<span class="number">0</span>].d = vp.m[<span class="number">15</span>] + vp.m[<span class="number">12</span>];
    
    <span class="comment">// Right plane</span>
    planes[<span class="number">1</span>].normal.x = vp.m[<span class="number">3</span>] - vp.m[<span class="number">0</span>];
    <span class="comment">// ... (Bottom, Top, Near, Far benzer ≈üekilde)</span>
    
    <span class="comment">// Normalize all planes</span>
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i < <span class="number">6</span>; i++) {
        <span class="type">float</span> len = planes[i].normal.<span class="function">Length</span>();
        planes[i].normal /= len;
        planes[i].d /= len;
    }
}</code></pre>

            <h4>AABB-Frustum Test</h4>

            <div class="formula">
                <div class="formula-label">AABB G√∂r√ºn√ºrl√ºk Testi</div>
                Eƒüer herhangi bir d√ºzlem i√ßin: d(P, plane) < -radius ‚Üí AABB g√∂r√ºnmez </div>

                    <pre><code><span class="type">bool</span> <span class="function">Frustum::intersectsAABB</span>(<span class="keyword">const</span> <span class="type">AABB</span>& aabb) {
    <span class="type">Vec3</span> center = aabb.<span class="function">Center</span>();
    <span class="type">Vec3</span> extents = aabb.<span class="function">Extents</span>();
    
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i < <span class="number">6</span>; i++) {
        <span class="type">float</span> r = extents.x * <span class="function">abs</span>(planes[i].normal.x)
                + extents.y * <span class="function">abs</span>(planes[i].normal.y)
                + extents.z * <span class="function">abs</span>(planes[i].normal.z);
        <span class="type">float</span> d = planes[i].normal.<span class="function">Dot</span>(center) + planes[i].d;
        
        <span class="keyword">if</span> (d < -r) <span class="keyword">return</span> <span class="keyword">false</span>;  <span class="comment">// Completely outside</span>
    }
    <span class="keyword">return</span> <span class="keyword">true</span>;
}</code></pre>

                    <h3>4.3 AABB Transformasyonu</h3>

                    <p>Lokal AABB'yi d√ºnya koordinatlarƒ±na d√∂n√º≈üt√ºr√ºrken 8 k√∂≈üe transform edilir:</p>

                    <pre><code><span class="type">AABB</span> <span class="function">transformAABB</span>(<span class="keyword">const</span> <span class="type">AABB</span>& local, <span class="keyword">const</span> <span class="type">Mat4</span>& world) {
    <span class="type">Vec3</span> corners[<span class="number">8</span>] = {
        <span class="type">Vec3</span>(local.min.x, local.min.y, local.min.z),
        <span class="type">Vec3</span>(local.max.x, local.min.y, local.min.z),
        <span class="comment">// ... 6 more corners</span>
    };
    
    <span class="type">Vec3</span> newMin(FLT_MAX), newMax(-FLT_MAX);
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i < <span class="number">8</span>; i++) {
        <span class="type">Vec3</span> worldCorner = world.<span class="function">TransformPoint</span>(corners[i]);
        newMin = <span class="function">Min</span>(newMin, worldCorner);
        newMax = <span class="function">Max</span>(newMax, worldCorner);
    }
    <span class="keyword">return</span> <span class="type">AABB</span>(newMin, newMax);
}</code></pre>
        </section>

        <!-- SECTION 5: CAMERA -->
        <section id="camera" class="section">
            <h2><span class="section-number">05</span> Kamera Sistemi</h2>

            <p>Kamera sistemi, view ve projection matrislerini hesaplar ve frustum culling i√ßin gerekli verileri saƒülar.
            </p>

            <h3>5.1 Kamera Parametreleri</h3>

            <table>
                <thead>
                    <tr>
                        <th>Parametre</th>
                        <th>Tip</th>
                        <th>A√ßƒ±klama</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>position</code></td>
                        <td>Vec3</td>
                        <td>D√ºnya koordinatlarƒ±nda kamera pozisyonu</td>
                    </tr>
                    <tr>
                        <td><code>rotation</code></td>
                        <td>Quat</td>
                        <td>Kamera rotasyonu (quaternion)</td>
                    </tr>
                    <tr>
                        <td><code>fov</code></td>
                        <td>float</td>
                        <td>Field of View (derece)</td>
                    </tr>
                    <tr>
                        <td><code>aspect</code></td>
                        <td>float</td>
                        <td>Viewport en/boy oranƒ±</td>
                    </tr>
                    <tr>
                        <td><code>nearPlane</code></td>
                        <td>float</td>
                        <td>Yakƒ±n kƒ±rpma d√ºzlemi</td>
                    </tr>
                    <tr>
                        <td><code>farPlane</code></td>
                        <td>float</td>
                        <td>Uzak kƒ±rpma d√ºzlemi</td>
                    </tr>
                </tbody>
            </table>

            <h3>5.2 View Matrix Hesaplama</h3>

            <pre><code><span class="keyword">void</span> <span class="function">Camera::updateView</span>() {
    <span class="comment">// Rotation matrisini olu≈ütur</span>
    <span class="type">Mat4</span> rotMat = <span class="type">Mat4</span>::<span class="function">FromQuaternion</span>(rotation);
    
    <span class="comment">// View = inverse(Translation * Rotation)</span>
    <span class="comment">// = Rotation^T * Translation^-1</span>
    view = rotMat.<span class="function">Transposed</span>() * <span class="type">Mat4</span>::<span class="function">Translation</span>(-position);
    
    <span class="comment">// Inverse view for shader use</span>
    invView = <span class="type">Mat4</span>::<span class="function">Translation</span>(position) * rotMat;
}</code></pre>

            <h3>5.3 Projection Tipleri</h3>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-card-icon">üì∑</div>
                    <h4>Perspective</h4>
                    <p>Ger√ßek√ßi derinlik algƒ±sƒ±. Uzaktaki objeler k√º√ß√ºk g√∂r√ºn√ºr. 3D oyunlar i√ßin standart.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-card-icon">üìê</div>
                    <h4>Orthographic</h4>
                    <p>Paralel projeksiyon. Derinlik deformasyonu yok. 2D oyunlar ve UI i√ßin ideal.</p>
                </div>
            </div>

            <h3>5.4 Ray Casting</h3>

            <p>Ekran koordinatlarƒ±ndan d√ºnya uzayƒ±na ray hesaplama:</p>

            <div class="formula">
                <div class="formula-label">Screen to World Ray</div>
                rayDir = normalize(invProjection √ó invView √ó screenNDC)
            </div>

            <pre><code><span class="type">Ray</span> <span class="function">Camera::screenPointToRay</span>(<span class="keyword">const</span> <span class="type">Vec2</span>& screenPoint, <span class="keyword">const</span> <span class="type">Vec2</span>& screenSize) {
    <span class="comment">// Screen space to NDC (-1 to 1)</span>
    <span class="type">float</span> ndcX = (<span class="number">2.0f</span> * screenPoint.x / screenSize.x) - <span class="number">1.0f</span>;
    <span class="type">float</span> ndcY = <span class="number">1.0f</span> - (<span class="number">2.0f</span> * screenPoint.y / screenSize.y);
    
    <span class="comment">// Unproject near and far points</span>
    <span class="type">Vec4</span> nearPoint = invViewProjection.<span class="function">Transform</span>(<span class="type">Vec4</span>(ndcX, ndcY, <span class="number">0.0f</span>, <span class="number">1.0f</span>));
    <span class="type">Vec4</span> farPoint = invViewProjection.<span class="function">Transform</span>(<span class="type">Vec4</span>(ndcX, ndcY, <span class="number">1.0f</span>, <span class="number">1.0f</span>));
    
    nearPoint /= nearPoint.w;
    farPoint /= farPoint.w;
    
    <span class="keyword">return</span> <span class="type">Ray</span>(nearPoint.xyz(), (farPoint.xyz() - nearPoint.xyz()).<span class="function">Normalized</span>());
}</code></pre>
        </section>

        <!-- SECTION 6: MATERIALS -->
        <section id="materials" class="section">
            <h2><span class="section-number">06</span> Material Sistemi</h2>

            <p>Material sistemi, PBR workflow'unu destekler ve GPU'ya 112 byte'lƒ±k constant buffer olarak g√∂nderilir.
            </p>

            <h3>6.1 MaterialData Yapƒ±sƒ±</h3>

            <pre><code><span class="keyword">struct</span> <span class="type">MaterialData</span> {
    <span class="comment">// PBR Properties (16 bytes)</span>
    <span class="type">Color</span> albedo;                <span class="comment">// Base color</span>
    
    <span class="comment">// Material params (16 bytes)</span>
    <span class="type">float</span> metallic;              <span class="comment">// 0 = dielectric, 1 = metal</span>
    <span class="type">float</span> roughness;             <span class="comment">// 0 = smooth, 1 = rough</span>
    <span class="type">float</span> ao;                    <span class="comment">// Ambient occlusion</span>
    <span class="type">float</span> alphaCutoff;           <span class="comment">// Alpha test threshold</span>
    
    <span class="comment">// Cull mode (16 bytes)</span>
    <span class="type">UINT32</span> cullMode;             <span class="comment">// BACK, FRONT, DOUBLE_SIDED</span>
    
    <span class="comment">// Emissive (32 bytes)</span>
    <span class="type">Color</span> emissive;
    <span class="type">float</span> emissiveStrength;
    
    <span class="comment">// Texture handles (16 bytes)</span>
    <span class="type">UINT32</span> albedoMap, normalMap, metallicMap, roughnessMap;
    
    <span class="comment">// More handles + flags (16 bytes)</span>
    <span class="type">UINT32</span> aoMap, emissiveMap, flags;
};</code></pre>

            <h3>6.2 Material Flags</h3>

            <table>
                <thead>
                    <tr>
                        <th>Flag</th>
                        <th>Deƒüer</th>
                        <th>A√ßƒ±klama</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>MATFLAG_ALBEDO_MAP</code></td>
                        <td>0x01</td>
                        <td>Albedo texture kullan</td>
                    </tr>
                    <tr>
                        <td><code>MATFLAG_NORMAL_MAP</code></td>
                        <td>0x02</td>
                        <td>Normal map kullan</td>
                    </tr>
                    <tr>
                        <td><code>MATFLAG_METALLIC_MAP</code></td>
                        <td>0x04</td>
                        <td>Metallic texture kullan</td>
                    </tr>
                    <tr>
                        <td><code>MATFLAG_ROUGHNESS_MAP</code></td>
                        <td>0x08</td>
                        <td>Roughness texture kullan</td>
                    </tr>
                    <tr>
                        <td><code>MATFLAG_AO_MAP</code></td>
                        <td>0x10</td>
                        <td>AO texture kullan</td>
                    </tr>
                    <tr>
                        <td><code>MATFLAG_ALPHA_BLEND</code></td>
                        <td>0x40</td>
                        <td>Alpha blending aktif</td>
                    </tr>
                    <tr>
                        <td><code>MATFLAG_DOUBLE_SIDED</code></td>
                        <td>0x80</td>
                        <td>√áift taraflƒ± render</td>
                    </tr>
                </tbody>
            </table>

            <h3>6.3 Texture Slots</h3>

            <div class="diagram-container">
                <svg width="600" height="120" viewBox="0 0 600 120">
                    <rect x="10" y="20" width="90" height="80" rx="6" fill="rgba(248, 81, 73, 0.2)" stroke="#f85149" />
                    <text x="55" y="55" fill="#f85149" font-size="11" text-anchor="middle">Albedo</text>
                    <text x="55" y="75" fill="#8b949e" font-size="9" text-anchor="middle">t0</text>

                    <rect x="110" y="20" width="90" height="80" rx="6" fill="rgba(88, 166, 255, 0.2)"
                        stroke="#58a6ff" />
                    <text x="155" y="55" fill="#58a6ff" font-size="11" text-anchor="middle">Normal</text>
                    <text x="155" y="75" fill="#8b949e" font-size="9" text-anchor="middle">t1</text>

                    <rect x="210" y="20" width="90" height="80" rx="6" fill="rgba(188, 140, 255, 0.2)"
                        stroke="#bc8cff" />
                    <text x="255" y="55" fill="#bc8cff" font-size="11" text-anchor="middle">Metallic</text>
                    <text x="255" y="75" fill="#8b949e" font-size="9" text-anchor="middle">t2</text>

                    <rect x="310" y="20" width="90" height="80" rx="6" fill="rgba(240, 136, 62, 0.2)"
                        stroke="#f0883e" />
                    <text x="355" y="55" fill="#f0883e" font-size="11" text-anchor="middle">Roughness</text>
                    <text x="355" y="75" fill="#8b949e" font-size="9" text-anchor="middle">t3</text>

                    <rect x="410" y="20" width="90" height="80" rx="6" fill="rgba(63, 185, 80, 0.2)" stroke="#3fb950" />
                    <text x="455" y="55" fill="#3fb950" font-size="11" text-anchor="middle">AO</text>
                    <text x="455" y="75" fill="#8b949e" font-size="9" text-anchor="middle">t4</text>

                    <rect x="510" y="20" width="80" height="80" rx="6" fill="rgba(238, 255, 65, 0.2)"
                        stroke="#eeff41" />
                    <text x="550" y="55" fill="#eeff41" font-size="11" text-anchor="middle">Emissive</text>
                    <text x="550" y="75" fill="#8b949e" font-size="9" text-anchor="middle">t5</text>
                </svg>
                <p class="diagram-title">≈ûekil 6.1: PBR Texture Slot D√ºzeni</p>
            </div>
        </section>

        <!-- SECTION 7: LIGHTING -->
        <section id="lighting" class="section">
            <h2><span class="section-number">07</span> Aydƒ±nlatma Sistemi</h2>

            <p>Sistem, 64 adede kadar e≈üzamanlƒ± ƒ±≈üƒ±k destekler. Her ƒ±≈üƒ±k GPU'ya 144 byte'lƒ±k unified structure olarak
                g√∂nderilir.</p>

            <h3>7.1 I≈üƒ±k Tipleri</h3>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-card-icon">‚òÄÔ∏è</div>
                    <h4>Directional Light</h4>
                    <p>Sonsuz uzaklƒ±ktan gelen paralel ƒ±≈üƒ±nlar. G√ºne≈ü sim√ºlasyonu i√ßin ideal. Pozisyon gerektirmez.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-card-icon">üí°</div>
                    <h4>Point Light</h4>
                    <p>T√ºm y√∂nlere yayƒ±lan noktasal ƒ±≈üƒ±k. Ampul, mum gibi kaynaklar i√ßin. Distance attenuation
                        uygulanƒ±r.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-card-icon">üî¶</div>
                    <h4>Spot Light</h4>
                    <p>Koniye ≈üeklinde yayƒ±lan ƒ±≈üƒ±k. El feneri, sahne ƒ±≈üƒ±ƒüƒ± i√ßin. Inner/outer cutoff a√ßƒ±larƒ± vardƒ±r.</p>
                </div>
            </div>

            <h3>7.2 GPULightData Yapƒ±sƒ±</h3>

            <pre><code><span class="keyword">struct</span> <span class="type">GPULightData</span> {  <span class="comment">// 144 bytes (16-byte aligned)</span>
    <span class="type">Vec3</span> position;       <span class="type">UINT32</span> type;           <span class="comment">// Row 0: 16 bytes</span>
    <span class="type">Vec3</span> direction;      <span class="type">float</span> range;           <span class="comment">// Row 1: 16 bytes</span>
    <span class="type">Vec3</span> color;          <span class="type">float</span> intensity;       <span class="comment">// Row 2: 16 bytes</span>
    <span class="type">float</span> innerCutoff;   <span class="type">float</span> outerCutoff;     <span class="comment">// Row 3: 16 bytes</span>
    <span class="type">float</span> shadowBias;    <span class="type">UINT32</span> flags;
    <span class="type">float</span> constantAtten; <span class="type">float</span> linearAtten;     <span class="comment">// Row 4: 16 bytes</span>
    <span class="type">float</span> quadraticAtten;<span class="type">int</span> shadowMapIndex;
    <span class="type">Mat4</span> shadowMatrix;                          <span class="comment">// Row 5-8: 64 bytes</span>
};</code></pre>

            <h3>7.3 Attenuation Form√ºl√º</h3>

            <div class="formula">
                <div class="formula-label">Point/Spot Light Attenuation</div>
                attenuation = 1 / (k<sub>c</sub> + k<sub>l</sub>¬∑d + k<sub>q</sub>¬∑d¬≤) √ó (1 - d/range)¬≤
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Parametre</th>
                        <th>Default</th>
                        <th>A√ßƒ±klama</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>k<sub>c</sub> (constant)</td>
                        <td>1.0</td>
                        <td>Sabit attenuation</td>
                    </tr>
                    <tr>
                        <td>k<sub>l</sub> (linear)</td>
                        <td>0.09</td>
                        <td>Lineer attenuation</td>
                    </tr>
                    <tr>
                        <td>k<sub>q</sub> (quadratic)</td>
                        <td>0.032</td>
                        <td>Kuadratik attenuation</td>
                    </tr>
                </tbody>
            </table>

            <h3>7.4 Spot Light Falloff</h3>

            <div class="formula">
                <div class="formula-label">Spot Light Intensity</div>
                spotIntensity = clamp((Œ∏ - outerCutoff) / (innerCutoff - outerCutoff), 0, 1)
            </div>

            <p>Burada Œ∏ = dot(L, -lightDirection), yani ƒ±≈üƒ±k y√∂n√º ile fragment'a olan y√∂n√ºn a√ßƒ±sƒ±.</p>
        </section>

        <!-- SECTION 8: PBR -->
        <section id="pbr" class="section">
            <h2><span class="section-number">08</span> PBR ve Shader Matematiƒüi</h2>

            <p>Quark Engine, Cook-Torrance BRDF modeli kullanƒ±r. Bu model, ger√ßek d√ºnya malzemelerini fiziksel olarak
                doƒüru ≈üekilde sim√ºle eder.</p>

            <h3>8.1 Cook-Torrance BRDF</h3>

            <div class="formula">
                <div class="formula-label">BRDF Form√ºl√º</div>
                f<sub>r</sub> = k<sub>d</sub> ¬∑ f<sub>lambert</sub> + k<sub>s</sub> ¬∑ f<sub>cook-torrance</sub>
            </div>

            <div class="formula">
                f<sub>cook-torrance</sub> = D ¬∑ F ¬∑ G / (4 ¬∑ (œâ<sub>o</sub>¬∑n) ¬∑ (œâ<sub>i</sub>¬∑n))
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Terim</th>
                        <th>Fonksiyon</th>
                        <th>A√ßƒ±klama</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>D</strong></td>
                        <td>Normal Distribution (GGX)</td>
                        <td>Mikro-y√ºzey daƒüƒ±lƒ±mƒ±</td>
                    </tr>
                    <tr>
                        <td><strong>F</strong></td>
                        <td>Fresnel (Schlick)</td>
                        <td>Yansƒ±ma/kƒ±rƒ±lma oranƒ±</td>
                    </tr>
                    <tr>
                        <td><strong>G</strong></td>
                        <td>Geometry (Smith-GGX)</td>
                        <td>Mikro-y√ºzey g√∂lgeleme</td>
                    </tr>
                </tbody>
            </table>

            <h3>8.2 GGX Normal Distribution</h3>

            <div class="formula">
                <div class="formula-label">GGX/Trowbridge-Reitz NDF</div>
                D(h) = Œ±¬≤ / (œÄ ¬∑ ((n¬∑h)¬≤ ¬∑ (Œ±¬≤ - 1) + 1)¬≤)
            </div>

            <pre><code><span class="type">float</span> <span class="function">DistributionGGX</span>(<span class="type">float3</span> N, <span class="type">float3</span> H, <span class="type">float</span> roughness) {
    <span class="type">float</span> a = roughness * roughness;
    <span class="type">float</span> a2 = a * a;
    <span class="type">float</span> NdotH = <span class="function">max</span>(<span class="function">dot</span>(N, H), <span class="number">0.0</span>);
    <span class="type">float</span> NdotH2 = NdotH * NdotH;
    
    <span class="type">float</span> num = a2;
    <span class="type">float</span> denom = (NdotH2 * (a2 - <span class="number">1.0</span>) + <span class="number">1.0</span>);
    denom = PI * denom * denom;
    
    <span class="keyword">return</span> num / <span class="function">max</span>(denom, <span class="number">0.0001</span>);
}</code></pre>

            <h3>8.3 Fresnel-Schlick</h3>

            <div class="formula">
                <div class="formula-label">Schlick Approximation</div>
                F(h,v) = F<sub>0</sub> + (1 - F<sub>0</sub>) ¬∑ (1 - (h¬∑v))‚Åµ
            </div>

            <pre><code><span class="type">float3</span> <span class="function">FresnelSchlick</span>(<span class="type">float</span> cosTheta, <span class="type">float3</span> F0) {
    <span class="keyword">return</span> F0 + (<span class="number">1.0</span> - F0) * <span class="function">pow</span>(<span class="function">saturate</span>(<span class="number">1.0</span> - cosTheta), <span class="number">5.0</span>);
}

<span class="comment">// F0 hesaplama (base reflectivity)</span>
<span class="type">float3</span> F0 = <span class="type">float3</span>(<span class="number">0.04</span>, <span class="number">0.04</span>, <span class="number">0.04</span>);  <span class="comment">// Dielectric</span>
F0 = <span class="function">lerp</span>(F0, albedo, metallic);          <span class="comment">// Metal'de albedo kullanƒ±lƒ±r</span></code></pre>

            <h3>8.4 Geometry Function (Smith-GGX)</h3>

            <div class="formula">
                <div class="formula-label">Smith Geometry Function</div>
                G(n,v,l) = G<sub>sub</sub>(n,v) ¬∑ G<sub>sub</sub>(n,l)
            </div>

            <div class="formula">
                G<sub>sub</sub>(n,v) = (n¬∑v) / ((n¬∑v) ¬∑ (1-k) + k)
                <br><br>
                k = (roughness + 1)¬≤ / 8
            </div>

            <pre><code><span class="type">float</span> <span class="function">GeometrySchlickGGX</span>(<span class="type">float</span> NdotV, <span class="type">float</span> roughness) {
    <span class="type">float</span> r = roughness + <span class="number">1.0</span>;
    <span class="type">float</span> k = (r * r) / <span class="number">8.0</span>;
    <span class="keyword">return</span> NdotV / (NdotV * (<span class="number">1.0</span> - k) + k);
}

<span class="type">float</span> <span class="function">GeometrySmith</span>(<span class="type">float3</span> N, <span class="type">float3</span> V, <span class="type">float3</span> L, <span class="type">float</span> roughness) {
    <span class="type">float</span> NdotV = <span class="function">max</span>(<span class="function">dot</span>(N, V), <span class="number">0.0</span>);
    <span class="type">float</span> NdotL = <span class="function">max</span>(<span class="function">dot</span>(N, L), <span class="number">0.0</span>);
    <span class="keyword">return</span> <span class="function">GeometrySchlickGGX</span>(NdotV, roughness) 
         * <span class="function">GeometrySchlickGGX</span>(NdotL, roughness);
}</code></pre>

            <h3>8.5 Tone Mapping (ACES)</h3>

            <p>HDR deƒüerler, g√∂r√ºnt√ºlenebilir aralƒ±ƒüa ACES filmic curve ile map edilir:</p>

            <div class="formula">
                <div class="formula-label">ACES Filmic Tone Mapping</div>
                color = (color √ó (2.51 √ó color + 0.03)) / (color √ó (2.43 √ó color + 0.59) + 0.14)
            </div>
        </section>

        <!-- SECTION 9: INSTANCING -->
        <section id="instancing" class="section">
            <h2><span class="section-number">09</span> Instancing ve Batching</h2>

            <p>Render sistemi, aynƒ± mesh+material kombinasyonuna sahip objeleri otomatik olarak batch'ler ve GPU
                instancing ile √ßizer.</p>

            <h3>9.1 PerInstanceData Yapƒ±sƒ±</h3>

            <pre><code><span class="keyword">struct</span> <span class="type">PerInstanceData</span> {  <span class="comment">// 144 bytes per instance</span>
    <span class="type">Mat4</span> worldMatrix;           <span class="comment">// 64 bytes - World transform</span>
    <span class="type">Mat4</span> worldInvTranspose;     <span class="comment">// 64 bytes - Normal transform</span>
    <span class="type">Vec4</span> customData;            <span class="comment">// 16 bytes - User data</span>
};</code></pre>

            <div class="info-box">
                <div class="info-box-title">üìò Normal Matrix Neden Gerekli?</div>
                <p>Normal vekt√∂rleri, world matrix ile direct olarak d√∂n√º≈üt√ºr√ºlemez. Non-uniform scale durumunda
                    normaller bozulur. Bunun yerine <strong>(M‚Åª¬π)·µÄ</strong> kullanƒ±lƒ±r.</p>
            </div>

            <h3>9.2 DrawCommand Yapƒ±sƒ±</h3>

            <pre><code><span class="keyword">struct</span> <span class="type">DrawCommand</span> {
    <span class="type">hMesh</span> mesh;              <span class="comment">// GPU mesh handle</span>
    <span class="type">hMaterial</span> material;      <span class="comment">// GPU material handle</span>
    <span class="type">UINT32</span> instanceStart;    <span class="comment">// Start index in instance buffer</span>
    <span class="type">UINT32</span> instanceCount;    <span class="comment">// Number of instances</span>
    <span class="type">UINT32</span> sortKey;          <span class="comment">// For ordering</span>
};</code></pre>

            <h3>9.3 Batching Algoritmasƒ±</h3>

            <ol>
                <li>T√ºm visible objeler <strong>material ‚Üí mesh ‚Üí distance</strong> sƒ±rasƒ±na g√∂re sort edilir</li>
                <li>Ardƒ±≈üƒ±k aynƒ± mesh+material kombinasyonlarƒ± gruplanƒ±r</li>
                <li>Her grup i√ßin tek bir DrawCommand olu≈üturulur</li>
                <li>Instance data'larƒ± instance buffer'a eklenir</li>
            </ol>

            <h3>9.4 Instance Buffer Layout</h3>

            <div class="diagram-container">
                <svg width="650" height="100" viewBox="0 0 650 100">
                    <rect x="10" y="20" width="150" height="60" rx="4" fill="rgba(248, 81, 73, 0.2)" stroke="#f85149" />
                    <text x="85" y="45" fill="#f85149" font-size="11" text-anchor="middle">Draw 1</text>
                    <text x="85" y="62" fill="#8b949e" font-size="9" text-anchor="middle">3 instances</text>

                    <rect x="170" y="20" width="200" height="60" rx="4" fill="rgba(88, 166, 255, 0.2)"
                        stroke="#58a6ff" />
                    <text x="270" y="45" fill="#58a6ff" font-size="11" text-anchor="middle">Draw 2</text>
                    <text x="270" y="62" fill="#8b949e" font-size="9" text-anchor="middle">5 instances</text>

                    <rect x="380" y="20" width="120" height="60" rx="4" fill="rgba(63, 185, 80, 0.2)"
                        stroke="#3fb950" />
                    <text x="440" y="45" fill="#3fb950" font-size="11" text-anchor="middle">Draw 3</text>
                    <text x="440" y="62" fill="#8b949e" font-size="9" text-anchor="middle">2 instances</text>

                    <rect x="510" y="20" width="130" height="60" rx="4" fill="rgba(188, 140, 255, 0.2)"
                        stroke="#bc8cff" />
                    <text x="575" y="45" fill="#bc8cff" font-size="11" text-anchor="middle">Draw 4</text>
                    <text x="575" y="62" fill="#8b949e" font-size="9" text-anchor="middle">4 instances</text>
                </svg>
                <p class="diagram-title">≈ûekil 9.1: Instance Buffer ƒ∞√ßeriƒüi (14 instance, 4 draw call)</p>
            </div>

            <h3>9.5 Limitler</h3>

            <table>
                <thead>
                    <tr>
                        <th>Limit</th>
                        <th>Deƒüer</th>
                        <th>A√ßƒ±klama</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>MAX_DRAW_COMMANDS</td>
                        <td>16,384</td>
                        <td>Frame ba≈üƒ±na maksimum draw call</td>
                    </tr>
                    <tr>
                        <td>MAX_INSTANCES</td>
                        <td>65,536</td>
                        <td>Frame ba≈üƒ±na maksimum instance</td>
                    </tr>
                    <tr>
                        <td>MAX_MATERIALS</td>
                        <td>1,024</td>
                        <td>Frame ba≈üƒ±na maksimum unique material</td>
                    </tr>
                    <tr>
                        <td>MAX_LIGHTS</td>
                        <td>64</td>
                        <td>E≈üzamanlƒ± ƒ±≈üƒ±k sayƒ±sƒ±</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- SECTION 10: RESOURCES -->
        <section id="resources" class="section">
            <h2><span class="section-number">10</span> GPU Kaynak Y√∂netimi</h2>

            <p>Render sistemi, CPU ve GPU kaynaklarƒ± arasƒ±nda net bir ayrƒ±m yapar ve iki seviyeli handle sistemi
                kullanƒ±r.</p>

            <h3>10.1 Kaynak Lifecycle</h3>

            <div class="diagram-container">
                <svg width="700" height="120" viewBox="0 0 700 120">
                    <defs>
                        <marker id="arrow3" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#58a6ff" />
                        </marker>
                    </defs>

                    <rect x="20" y="35" width="120" height="50" rx="6" fill="rgba(63, 185, 80, 0.2)" stroke="#3fb950" />
                    <text x="80" y="65" fill="#3fb950" font-size="12" text-anchor="middle">Create</text>

                    <line x1="145" y1="60" x2="175" y2="60" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrow3)" />

                    <rect x="180" y="35" width="120" height="50" rx="6" fill="rgba(88, 166, 255, 0.2)"
                        stroke="#58a6ff" />
                    <text x="240" y="65" fill="#58a6ff" font-size="12" text-anchor="middle">Use (Submit)</text>

                    <line x1="305" y1="60" x2="335" y2="60" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrow3)" />

                    <rect x="340" y="35" width="120" height="50" rx="6" fill="rgba(188, 140, 255, 0.2)"
                        stroke="#bc8cff" />
                    <text x="400" y="65" fill="#bc8cff" font-size="12" text-anchor="middle">Update</text>

                    <line x1="465" y1="60" x2="495" y2="60" stroke="#58a6ff" stroke-width="2"
                        marker-end="url(#arrow3)" />

                    <rect x="500" y="35" width="120" height="50" rx="6" fill="rgba(240, 136, 62, 0.2)"
                        stroke="#f0883e" />
                    <text x="560" y="65" fill="#f0883e" font-size="12" text-anchor="middle">Render</text>

                    <line x1="450" y1="85" x2="450" y2="105" stroke="#8b949e" stroke-width="1" />
                    <line x1="250" y1="105" x2="450" y2="105" stroke="#8b949e" stroke-width="1" />
                    <line x1="250" y1="105" x2="250" y2="85" stroke="#8b949e" stroke-width="1"
                        marker-end="url(#arrow3)" />
                    <text x="350" y="100" fill="#8b949e" font-size="9" text-anchor="middle">Loop</text>

                    <rect x="630" y="35" width="60" height="50" rx="6" fill="rgba(248, 81, 73, 0.2)" stroke="#f85149" />
                    <text x="660" y="65" fill="#f85149" font-size="11" text-anchor="middle">Destroy</text>
                </svg>
                <p class="diagram-title">≈ûekil 10.1: Kaynak Ya≈üam D√∂ng√ºs√º</p>
            </div>

            <h3>10.2 Kaynak Olu≈üturma API</h3>

            <pre><code><span class="comment">// Mesh olu≈üturma</span>
<span class="type">hMesh</span> mesh = renderSystem-><span class="function">createMesh</span>(meshData, isDynamic);

<span class="comment">// Material olu≈üturma</span>
<span class="type">hMaterial</span> mat = renderSystem-><span class="function">createMaterial</span>(materialData);

<span class="comment">// Texture y√ºkleme</span>
<span class="type">hTexture</span> tex = renderSystem-><span class="function">loadTexture</span>(<span class="string">"textures/albedo.png"</span>);

<span class="comment">// Material'a texture baƒülama</span>
renderSystem-><span class="function">setMaterialTexture</span>(mat, tex, <span class="number">0</span>);  <span class="comment">// Slot 0 = Albedo</span>

<span class="comment">// Light olu≈üturma</span>
<span class="type">hLight</span> sun = renderSystem-><span class="function">createDirectionalLight</span>(sunData);
<span class="type">hLight</span> bulb = renderSystem-><span class="function">createPointLight</span>(pointData);</code></pre>

            <h3>10.3 Frame Rendering API</h3>

            <pre><code><span class="comment">// Frame ba≈ülangƒ±cƒ±</span>
renderSystem-><span class="function">setDeltaTime</span>(dt);
renderSystem-><span class="function">setActiveCamera</span>(&camera);

<span class="comment">// Obje submit</span>
renderSystem-><span class="function">submit</span>(meshHandle, materialHandle, worldMatrix);

<span class="comment">// veya RenderObject ile</span>
<span class="type">RenderObject</span> obj;
obj.mesh = meshHandle;
obj.material = materialHandle;
obj.worldMatrix = transform;
renderSystem-><span class="function">submit</span>(obj);

<span class="comment">// Render ve present</span>
renderSystem-><span class="function">renderFrame</span>();  <span class="comment">// Cull ‚Üí Sort ‚Üí Batch ‚Üí Execute</span>
renderSystem-><span class="function">endFrame</span>();     <span class="comment">// Present swap chain</span></code></pre>

            <h3>10.4 D3D11 Buffer Tipleri</h3>

            <table>
                <thead>
                    <tr>
                        <th>Buffer</th>
                        <th>Register</th>
                        <th>Boyut</th>
                        <th>Kullanƒ±m</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Frame Constants</td>
                        <td>b0</td>
                        <td>368 bytes</td>
                        <td>View, projection, time, ambient</td>
                    </tr>
                    <tr>
                        <td>Material Constants</td>
                        <td>b1</td>
                        <td>112 bytes</td>
                        <td>PBR parametreleri, flags</td>
                    </tr>
                    <tr>
                        <td>Instance Buffer</td>
                        <td>VB Slot 1</td>
                        <td>Dynamic</td>
                        <td>Per-instance transforms</td>
                    </tr>
                    <tr>
                        <td>Light Buffer</td>
                        <td>t6</td>
                        <td>9,216 bytes</td>
                        <td>64 √ó 144 byte lights</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box success">
                <div class="info-box-title">‚úì Dok√ºmantasyon Tamamlandƒ±</div>
                <p>Bu dok√ºmantasyon, Quark Engine Render Sisteminin t√ºm bile≈üenlerini kapsamlƒ± ≈üekilde a√ßƒ±klamaktadƒ±r.
                    Daha fazla bilgi i√ßin kaynak kodlarƒ± inceleyebilirsiniz.</p>
            </div>
        </section>

    </main>

    <script>
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) targetSection.scrollIntoView({ behavior: 'smooth' });
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.section');
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (scrollY >= sectionTop - 100) current = section.getAttribute('id');
            });
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) link.classList.add('active');
            });
        });
    </script>
</body>

</html>